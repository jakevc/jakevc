---
title: Intro to galaxy1
author: Jake VanCampen
date: '2018-06-25'
slug: intro-to-galaxy1
categories: []
tags:
  - GCCBOSC
  - galaxy
  - open_source
---



<div id="into-to-galaxy-admin" class="section level1">
<h1>Into to Galaxy Admin</h1>
<div id="using-ansible-to-setup-a-galaxy" class="section level2">
<h2>Using Ansible to setup a Galaxy</h2>
<p>What is ansible:</p>
<ul>
<li>Automation of tool config and computer management.</li>
<li>multi-node software dev, ad-hoc task execution, configurmation managemnet.</li>
</ul>
<p>Why:
- avoid forgetting what you did to install and configure some software
- codify knowledge about system
- “make infastructure programmable”</p>
<p>Ansible features:
- easy to learn (YAML playbooks, jinja2 templates, INI inventory )
- sequential execution</p>
<p>Ansible scripts are called playbooks, written as yaml files, can be structured in folder hierarchy with mnay available modules.</p>
</div>
<div id="install-galaxy-with-ansible" class="section level2">
<h2>Install Galaxy with ansible:</h2>
<p>To use GalaxyKickStart (GKS) playbook, we need to get a local copy by cloning the repo, and installing using the requirements_roles.yml</p>
<pre><code>sudo pip install ansible
git clone https://github.com/ARTbio/GalaxyKickStart
cd GalaxyKickStart
git checkout 2018-gccbosc
ansible-galaxy install -r requirements_roles.yml -p roles --force</code></pre>
<p>You will see output similar to the following:</p>
<pre><code>TASK [galaxyprojectdotorg.galaxy-extras : Yarn: Make sure package key is present] ***
changed: [localhost]

TASK [galaxyprojectdotorg.galaxy-extras : Yarn: Add Debian/Ubuntu package to sources list] ***
changed: [localhost]

TASK [galaxyprojectdotorg.galaxy-extras : Yarn: Install] ***********************
changed: [localhost]

RUNNING HANDLER [galaxyprojectdotorg.galaxy-extras : restart nginx] ************
changed: [localhost]

TASK [galaxyprojectdotorg.galaxy-tools : include] ******************************

PLAY RECAP *********************************************************************
localhost                  : ok=119  changed=95   unreachable=0    failed=0   </code></pre>
<p>Deter</p>
<pre><code>ubuntu@2018-gcc-training-42:~/GalaxyKickStart$ sinfo
PARTITION AVAIL  TIMELIMIT  NODES  STATE NODELIST
debug*       up   infinite      1   idle 2018-gcc-training-42
ubuntu@2018-gcc-training-42:~/GalaxyKickStart$ sudo supervisorctl status 
autofs                           RUNNING   pid 3611, uptime 0:03:18
cron                             STOPPED   Not started
galaxy:galaxy_web                RUNNING   pid 3612, uptime 0:03:18
munge                            RUNNING   pid 3604, uptime 0:03:18
nginx                            RUNNING   pid 3606, uptime 0:03:18
postgresql                       RUNNING   pid 3602, uptime 0:03:18
pre_postgresql                   EXITED    Jun 25 05:22 PM
proftpd                          RUNNING   pid 3610, uptime 0:03:18
reports                          STOPPED   Not started
slurmctld                        RUNNING   pid 3605, uptime 0:03:18
slurmd                           RUNNING   pid 3607, uptime 0:03:18
ubuntu@2018-gcc-training-42:~/GalaxyKickStart$ 
</code></pre>
<p>make yourself an admin</p>
<pre><code> sudo su galaxy </code></pre>
</div>
</div>
<div id="noon" class="section level1">
<h1>Noon</h1>
<div id="example-123" class="section level2">
<h2>example 1,23</h2>
</div>
</div>
<div id="afternooon" class="section level1">
<h1>afternooon</h1>
<div id="example-123-1" class="section level2">
<h2>Example 1,2,3</h2>
<p>Connecting Galaxy to a compute cluster</p>
<ul>
<li>how to connect galaxy to a compute cluster</li>
<li>what else can I do?</li>
</ul>
<p>Why run jobs on a cluster?
- Will eventually hit a wall
- Running jobs on a cluster means you can eventually</p>
<p>Debug with</p>
<p>iostat
gdb</p>
</div>
</div>
